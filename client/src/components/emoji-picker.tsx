import { useState } from "react";
import { Smile } from "lucide-react";
import { Button } from "@/components/ui/button";
import {
  Popover,
  PopoverContent,
  PopoverTrigger,
} from "@/components/ui/popover";
import { ScrollArea } from "@/components/ui/scroll-area";

const EMOJI_CATEGORIES = {
  Smileys: [
    "ðŸ˜€",
    "ðŸ˜ƒ",
    "ðŸ˜„",
    "ðŸ˜",
    "ðŸ˜†",
    "ðŸ˜…",
    "ðŸ¤£",
    "ðŸ˜‚",
    "ðŸ™‚",
    "ðŸ˜Š",
    "ðŸ˜‡",
    "ðŸ¥°",
    "ðŸ˜",
    "ðŸ¤©",
    "ðŸ˜˜",
    "ðŸ˜—",
    "ðŸ˜š",
    "ðŸ˜™",
    "ðŸ¥²",
    "ðŸ˜‹",
    "ðŸ˜›",
    "ðŸ˜œ",
    "ðŸ¤ª",
    "ðŸ˜",
    "ðŸ¤‘",
    "ðŸ¤—",
    "ðŸ¤­",
    "ðŸ¤«",
    "ðŸ¤”",
    "ðŸ¤",
    "ðŸ¤¨",
    "ðŸ˜",
    "ðŸ˜‘",
    "ðŸ˜¶",
    "ðŸ˜",
    "ðŸ˜’",
    "ðŸ™„",
    "ðŸ˜¬",
    "ðŸ¤¥",
    "ðŸ˜Œ",
    "ðŸ˜”",
    "ðŸ˜ª",
    "ðŸ¤¤",
    "ðŸ˜´",
    "ðŸ˜·",
    "ðŸ¤’",
    "ðŸ¤•",
    "ðŸ¤¢",
    "ðŸ¤®",
    "ðŸ¤§",
    "ðŸ¥µ",
    "ðŸ¥¶",
    "ðŸ¥´",
    "ðŸ˜µ",
    "ðŸ¤¯",
    "ðŸ¤ ",
    "ðŸ¥³",
    "ðŸ¥¸",
    "ðŸ˜Ž",
    "ðŸ¤“",
    "ðŸ§",
  ],
  Gestures: [
    "ðŸ‘‹",
    "ðŸ¤š",
    "ðŸ–ï¸",
    "âœ‹",
    "ðŸ––",
    "ðŸ‘Œ",
    "ðŸ¤Œ",
    "ðŸ¤",
    "âœŒï¸",
    "ðŸ¤ž",
    "ðŸ¤Ÿ",
    "ðŸ¤˜",
    "ðŸ¤™",
    "ðŸ‘ˆ",
    "ðŸ‘‰",
    "ðŸ‘†",
    "ðŸ–•",
    "ðŸ‘‡",
    "â˜ï¸",
    "ðŸ‘",
    "ðŸ‘Ž",
    "âœŠ",
    "ðŸ‘Š",
    "ðŸ¤›",
    "ðŸ¤œ",
    "ðŸ‘",
    "ðŸ™Œ",
    "ðŸ‘",
    "ðŸ¤²",
    "ðŸ¤",
    "ðŸ™",
    "âœï¸",
    "ðŸ’ª",
    "ðŸ¦¾",
    "ðŸ¦¿",
  ],
  Hearts: [
    "â¤ï¸",
    "ðŸ§¡",
    "ðŸ’›",
    "ðŸ’š",
    "ðŸ’™",
    "ðŸ’œ",
    "ðŸ–¤",
    "ðŸ¤",
    "ðŸ¤Ž",
    "ðŸ’”",
    "â£ï¸",
    "ðŸ’•",
    "ðŸ’ž",
    "ðŸ’“",
    "ðŸ’—",
    "ðŸ’–",
    "ðŸ’˜",
    "ðŸ’",
    "ðŸ’Ÿ",
    "â™¥ï¸",
  ],
  Animals: [
    "ðŸ¶",
    "ðŸ±",
    "ðŸ­",
    "ðŸ¹",
    "ðŸ°",
    "ðŸ¦Š",
    "ðŸ»",
    "ðŸ¼",
    "ðŸ¨",
    "ðŸ¯",
    "ðŸ¦",
    "ðŸ®",
    "ðŸ·",
    "ðŸ¸",
    "ðŸµ",
    "ðŸ”",
    "ðŸ§",
    "ðŸ¦",
    "ðŸ¤",
    "ðŸ¦†",
    "ðŸ¦…",
    "ðŸ¦‰",
    "ðŸ¦‡",
    "ðŸº",
    "ðŸ—",
    "ðŸ´",
    "ðŸ¦„",
    "ðŸ",
    "ðŸ›",
    "ðŸ¦‹",
    "ðŸŒ",
    "ðŸž",
  ],
  Food: [
    "ðŸŽ",
    "ðŸ",
    "ðŸŠ",
    "ðŸ‹",
    "ðŸŒ",
    "ðŸ‰",
    "ðŸ‡",
    "ðŸ“",
    "ðŸ«",
    "ðŸˆ",
    "ðŸ’",
    "ðŸ‘",
    "ðŸ¥­",
    "ðŸ",
    "ðŸ¥¥",
    "ðŸ¥",
    "ðŸ…",
    "ðŸ†",
    "ðŸ¥‘",
    "ðŸ¥¦",
    "ðŸ¥¬",
    "ðŸŒ½",
    "ðŸŒ¶ï¸",
    "ðŸ«‘",
    "ðŸ¥’",
    "ðŸ¥•",
    "ðŸ§„",
    "ðŸ§…",
    "ðŸ¥”",
    "ðŸ ",
    "ðŸ¥",
    "ðŸ•",
    "ðŸ”",
    "ðŸŸ",
    "ðŸŒ­",
    "ðŸ¿",
    "ðŸ§‚",
    "ðŸ¥“",
    "ðŸ³",
    "ðŸ§‡",
    "ðŸ¥ž",
    "ðŸ§ˆ",
    "ðŸž",
    "ðŸ¥–",
    "ðŸ¥¨",
    "ðŸ§€",
    "ðŸ¥—",
    "ðŸ¥™",
    "ðŸ¥ª",
    "ðŸŒ®",
    "ðŸŒ¯",
    "ðŸ«”",
    "ðŸ¥š",
    "ðŸ²",
    "ðŸ¥˜",
    "ðŸ",
    "ðŸœ",
    "ðŸ›",
    "ðŸ£",
    "ðŸ±",
    "ðŸ¥Ÿ",
    "ðŸ¦ª",
    "ðŸ¤",
    "ðŸ™",
    "ðŸš",
    "ðŸ˜",
    "ðŸ¥",
    "ðŸ¥ ",
    "ðŸ¥®",
    "ðŸ¢",
    "ðŸ¡",
    "ðŸ§",
    "ðŸ¨",
    "ðŸ¦",
    "ðŸ¥§",
    "ðŸ§",
    "ðŸ°",
    "ðŸŽ‚",
    "ðŸ®",
    "ðŸ­",
    "ðŸ¬",
    "ðŸ«",
    "ðŸ¿",
    "ðŸ©",
    "ðŸª",
    "ðŸŒ°",
    "ðŸ¥œ",
    "â˜•",
    "ðŸ«–",
    "ðŸµ",
    "ðŸ§ƒ",
    "ðŸ¥¤",
    "ðŸ§‹",
    "ðŸ¶",
    "ðŸº",
    "ðŸ»",
    "ðŸ¥‚",
    "ðŸ·",
    "ðŸ¥ƒ",
    "ðŸ¸",
    "ðŸ¹",
    "ðŸ§‰",
    "ðŸ¾",
  ],
  Activities: [
    "âš½",
    "ðŸ€",
    "ðŸˆ",
    "âš¾",
    "ðŸ¥Ž",
    "ðŸŽ¾",
    "ðŸ",
    "ðŸ‰",
    "ðŸ¥",
    "ðŸŽ±",
    "ðŸª€",
    "ðŸ“",
    "ðŸ¸",
    "ðŸ’",
    "ðŸ‘",
    "ðŸ¥",
    "ðŸ",
    "ðŸªƒ",
    "ðŸ¥…",
    "â›³",
    "ðŸª",
    "ðŸ¹",
    "ðŸŽ£",
    "ðŸ¤¿",
    "ðŸ¥Š",
    "ðŸ¥‹",
    "ðŸŽ½",
    "ðŸ›¹",
    "ðŸ›¼",
    "ðŸ›·",
    "â›¸ï¸",
    "ðŸ¥Œ",
    "ðŸŽ¿",
    "â›·ï¸",
    "ðŸ‚",
    "ðŸª‚",
    "ðŸ‹ï¸",
    "ðŸ¤¼",
    "ðŸ¤¸",
    "ðŸ¤º",
    "â›¹ï¸",
    "ðŸ¤¾",
    "ðŸŒï¸",
    "ðŸ‡",
    "ðŸ§˜",
    "ðŸ„",
    "ðŸŠ",
    "ðŸ¤½",
    "ðŸš£",
    "ðŸ§—",
    "ðŸšµ",
    "ðŸš´",
    "ðŸ†",
    "ðŸ¥‡",
    "ðŸ¥ˆ",
    "ðŸ¥‰",
    "ðŸ…",
    "ðŸŽ–ï¸",
    "ðŸµï¸",
    "ðŸŽ—ï¸",
    "ðŸŽ«",
    "ðŸŽŸï¸",
    "ðŸŽª",
    "ðŸŽ­",
    "ðŸŽ¨",
    "ðŸŽ¬",
    "ðŸŽ¤",
    "ðŸŽ§",
    "ðŸŽ¼",
    "ðŸŽ¹",
    "ðŸ¥",
    "ðŸª˜",
    "ðŸŽ·",
    "ðŸŽº",
    "ðŸª—",
    "ðŸŽ¸",
    "ðŸª•",
    "ðŸŽ»",
    "ðŸŽ²",
    "â™Ÿï¸",
    "ðŸŽ¯",
    "ðŸŽ³",
    "ðŸŽ®",
    "ðŸŽ°",
    "ðŸ§©",
  ],
  Objects: [
    "ðŸ’¡",
    "ðŸ”¦",
    "ðŸ®",
    "ðŸª”",
    "ðŸ“±",
    "ðŸ’»",
    "ðŸ–¥ï¸",
    "ðŸ–¨ï¸",
    "âŒ¨ï¸",
    "ðŸ–±ï¸",
    "ðŸ–²ï¸",
    "ðŸ’½",
    "ðŸ’¾",
    "ðŸ’¿",
    "ðŸ“€",
    "ðŸ§®",
    "ðŸŽ¥",
    "ðŸŽžï¸",
    "ðŸ“½ï¸",
    "ðŸ“º",
    "ðŸ“·",
    "ðŸ“¸",
    "ðŸ“¹",
    "ðŸ“¼",
    "ðŸ”",
    "ðŸ”Ž",
    "ðŸ•¯ï¸",
    "ðŸ’µ",
    "ðŸ’´",
    "ðŸ’¶",
    "ðŸ’·",
    "ðŸ’°",
    "ðŸ’³",
    "ðŸ’Ž",
    "âš–ï¸",
    "ðŸ§°",
    "ðŸ”§",
    "ðŸ”¨",
    "âš’ï¸",
    "ðŸ› ï¸",
    "â›ï¸",
    "ðŸ”©",
    "âš™ï¸",
    "ðŸ§±",
    "â›“ï¸",
    "ðŸ§²",
    "ðŸ”«",
    "ðŸ’£",
    "ðŸ§¨",
    "ðŸª“",
    "ðŸ”ª",
    "ðŸ—¡ï¸",
    "âš”ï¸",
    "ðŸ›¡ï¸",
    "ðŸš¬",
    "âš°ï¸",
    "ðŸª¦",
    "âš±ï¸",
    "ðŸº",
    "ðŸ”®",
    "ðŸ“¿",
    "ðŸ§¿",
    "ðŸ’ˆ",
    "âš—ï¸",
    "ðŸ”­",
    "ðŸ”¬",
    "ðŸ•³ï¸",
    "ðŸ©¹",
    "ðŸ©º",
    "ðŸ’Š",
    "ðŸ’‰",
    "ðŸ©¸",
    "ðŸ§¬",
    "ðŸ¦ ",
    "ðŸ§«",
    "ðŸ§ª",
  ],
  Symbols: [
    "ðŸ’¯",
    "ðŸ”¥",
    "âœ¨",
    "ðŸŒŸ",
    "ðŸ’«",
    "â­",
    "ðŸŒˆ",
    "â˜€ï¸",
    "ðŸŒ¤ï¸",
    "â›…",
    "ðŸŒ¥ï¸",
    "â˜ï¸",
    "ðŸŒ¦ï¸",
    "ðŸŒ§ï¸",
    "â›ˆï¸",
    "ðŸŒ©ï¸",
    "ðŸŒ¨ï¸",
    "â„ï¸",
    "â˜ƒï¸",
    "â›„",
    "ðŸŒ¬ï¸",
    "ðŸ’¨",
    "ðŸŒªï¸",
    "ðŸŒ«ï¸",
    "ðŸŒŠ",
    "ðŸ’§",
    "ðŸ’¦",
    "â˜”",
    "âš¡",
    "ðŸ”´",
    "ðŸŸ ",
    "ðŸŸ¡",
    "ðŸŸ¢",
    "ðŸ”µ",
    "ðŸŸ£",
    "ðŸŸ¤",
    "âš«",
    "âšª",
    "ðŸŸ¥",
    "ðŸŸ§",
    "ðŸŸ¨",
    "ðŸŸ©",
    "ðŸŸ¦",
    "ðŸŸª",
    "ðŸŸ«",
    "â¬›",
    "â¬œ",
    "â—¼ï¸",
    "â—»ï¸",
    "â—¾",
    "â—½",
    "â–ªï¸",
    "â–«ï¸",
    "ðŸ”¶",
    "ðŸ”·",
    "ðŸ”¸",
    "ðŸ”¹",
    "ðŸ”º",
    "ðŸ”»",
    "ðŸ’ ",
    "ðŸ”˜",
    "ðŸ”³",
    "ðŸ”²",
  ],
};

interface EmojiPickerProps {
  onEmojiSelect: (emoji: string) => void;
}

export function EmojiPicker({ onEmojiSelect }: EmojiPickerProps) {
  const [open, setOpen] = useState(false);
  const [activeCategory, setActiveCategory] = useState("Smileys");

  const handleEmojiClick = (emoji: string) => {
    onEmojiSelect(emoji);
  };

  return (
    <Popover open={open} onOpenChange={setOpen}>
      <PopoverTrigger asChild>
        <Button variant="ghost" size="icon" className="h-9 w-9">
          <Smile className="h-5 w-5" />
        </Button>
      </PopoverTrigger>
      <PopoverContent className="w-80 p-0" align="start" side="top">
        <div className="flex flex-col">
          {/* Category tabs */}
          <ScrollArea className="w-full">
            <div className="flex gap-1 p-2 border-b">
              {Object.keys(EMOJI_CATEGORIES).map((category) => (
                <Button
                  key={category}
                  variant={activeCategory === category ? "secondary" : "ghost"}
                  size="sm"
                  className="text-xs px-2 py-1 h-7 whitespace-nowrap"
                  onClick={() => setActiveCategory(category)}
                >
                  {category}
                </Button>
              ))}
            </div>
          </ScrollArea>

          {/* Emoji grid */}
          <ScrollArea className="h-48 p-2">
            <div className="grid grid-cols-8 gap-1">
              {EMOJI_CATEGORIES[
                activeCategory as keyof typeof EMOJI_CATEGORIES
              ].map((emoji, index) => (
                <button
                  key={`${emoji}-${index}`}
                  className="h-8 w-8 flex items-center justify-center text-xl hover:bg-accent rounded-md transition-colors"
                  onClick={() => handleEmojiClick(emoji)}
                >
                  {emoji}
                </button>
              ))}
            </div>
          </ScrollArea>
        </div>
      </PopoverContent>
    </Popover>
  );
}
